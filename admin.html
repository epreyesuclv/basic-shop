<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Administrativo - Negocio Los Cruz</title>
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- ========== LOGIN SCREEN ========== -->
    <div class="login-screen" id="loginScreen">
        <div class="login-card">
            <div class="login-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
            </div>
            <h1 class="login-title">Bienvenido</h1>
            <p class="login-subtitle">Negocio Los Cruz</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginUser">Usuario</label>
                    <div class="input-with-icon">
                        <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <input type="text" id="loginUser" placeholder="Ingrese su usuario" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Contrase√±a</label>
                    <div class="input-with-icon">
                        <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        <button type="button" class="toggle-password" id="togglePassword">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="login-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe">
                        <span>Recordarme</span>
                    </label>
                    <a href="#" class="forgot-link">¬øOlvidaste tu contrase√±a?</a>
                </div>
                <button type="submit" class="btn-login">Iniciar Sesi√≥n</button>
            </form>
        </div>
    </div>

    <!-- ========== ADMIN PANEL ========== -->
    <div class="admin-panel" id="adminPanel" style="display: none;">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-left">
                <button class="btn-back" id="btnBack" style="display: none;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                    Volver
                </button>
                <div class="header-info">
                    <h1>Panel Administrativo</h1>
                    <span class="header-business">Negocio Los Cruz</span>
                </div>
            </div>
            <div class="header-right">
                <a href="index.html" class="btn-store" target="_blank">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    Mi Tienda
                </a>
                <button class="btn-logout" id="logoutBtn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                    Cerrar Sesi√≥n
                </button>
            </div>
        </header>

        <!-- ========== DASHBOARD VIEW ========== -->
        <main class="view" id="viewDashboard">
            <div class="view-container">
                <div class="view-header">
                    <h2>Panel de Control</h2>
                    <p>Selecciona una opci√≥n para comenzar</p>
                </div>

                <div class="module-cards">
                    <div class="module-card" data-view="inventario">
                        <div class="module-icon icon-blue">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                <line x1="12" y1="22.08" x2="12" y2="12"></line>
                            </svg>
                        </div>
                        <h3>Inventario</h3>
                        <p>Gestiona tus productos</p>
                    </div>
                    <div class="module-card" data-view="venta">
                        <div class="module-icon icon-green">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="9" cy="21" r="1"></circle>
                                <circle cx="20" cy="21" r="1"></circle>
                                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                            </svg>
                        </div>
                        <h3>Venta</h3>
                        <p>Registra tus ventas</p>
                    </div>
                    <div class="module-card" data-view="compra">
                        <div class="module-icon icon-purple">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                                <path d="M13 8h4"></path>
                                <path d="M13 12h4"></path>
                                <path d="M13 16h4"></path>
                            </svg>
                        </div>
                        <h3>Compra</h3>
                        <p>Administra compras</p>
                    </div>
                    <div class="module-card" data-view="gastos">
                        <div class="module-icon icon-orange">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <h3>Gastos</h3>
                        <p>Controla tus gastos</p>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="dash-stat-card">
                        <span class="dash-stat-label">Total Productos</span>
                        <span class="dash-stat-value" id="dashTotalProducts">0</span>
                    </div>
                    <div class="dash-stat-card">
                        <span class="dash-stat-label">Ventas del Mes</span>
                        <span class="dash-stat-value" id="dashVentasMes">$0.00</span>
                    </div>
                    <div class="dash-stat-card">
                        <span class="dash-stat-label">Gastos del Mes</span>
                        <span class="dash-stat-value" id="dashGastosMes">$0.00</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- ========== INVENTARIO VIEW ========== -->
        <main class="view" id="viewInventario" style="display: none;">
            <div class="view-container">
                <div class="view-header-row">
                    <div>
                        <h2>Inventario</h2>
                        <p>Gestiona tus productos</p>
                    </div>
                    <button class="btn-primary" id="addProductBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Agregar Producto
                    </button>
                </div>

                <div class="inventory-summary">
                    <div class="summary-item">
                        <span class="summary-label">Total Productos</span>
                        <span class="summary-value" id="invTotalProducts">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Total en Inventario</span>
                        <span class="summary-value" id="invTotalStock">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Ganancia Total</span>
                        <span class="summary-value" id="invTotalProfit">$0</span>
                    </div>
                </div>

                <div class="table-container">
                    <table class="data-table" id="inventoryTable">
                        <thead>
                            <tr>
                                <th>NOMBRE DEL PRODUCTO</th>
                                <th>CATEGOR√çA</th>
                                <th>FOTO</th>
                                <th>PRECIO COMPRA</th>
                                <th>PRECIO VENTA</th>
                                <th>CANTIDAD</th>
                                <th>VENDIDO</th>
                                <th>EXISTENCIA</th>
                                <th>GANANCIA</th>
                                <th>ACCIONES</th>
                            </tr>
                        </thead>
                        <tbody id="inventoryTableBody">
                        </tbody>
                    </table>
                </div>

                <div class="empty-state" id="inventoryEmpty" style="display: none;">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: #9ca3af;">
                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    </svg>
                    <p><strong>No hay productos</strong></p>
                    <p>Agrega productos para comenzar</p>
                </div>
            </div>
        </main>

        <!-- ========== VENTA VIEW ========== -->
        <main class="view" id="viewVenta" style="display: none;">
            <div class="view-container">
                <div class="view-header">
                    <h2>Venta</h2>
                    <p>Registra y revisa tus ventas</p>
                </div>

                <div class="tabs">
                    <button class="tab active" data-tab="nuevaVenta">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Nueva Venta
                    </button>
                    <button class="tab" data-tab="historialVentas">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        Historial de Ventas (<span id="ventasCount">0</span>)
                    </button>
                </div>

                <!-- Tab: Nueva Venta -->
                <div class="tab-content active" id="tabNuevaVenta">
                    <!-- WhatsApp Import -->
                    <div class="card wa-card">
                        <h3 style="display:flex;align-items:center;gap:0.5rem;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#25D366" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                            Crear venta desde WhatsApp
                        </h3>
                        <textarea id="waTextarea" class="form-input wa-textarea" placeholder="Pega aqui el mensaje del pedido de WhatsApp..."></textarea>
                        <button class="btn-primary btn-full" id="waCrearVenta" style="margin-top:0.75rem;">Crear Venta</button>
                    </div>

                    <div class="venta-layout">
                        <div class="venta-main">
                            <div class="card">
                                <h3>Nombre de la Compra</h3>
                                <input type="text" id="ventaNombre" class="form-input" placeholder="Ej: Venta Cliente Juan, Pedido Mesa 5, etc.">
                            </div>

                            <div class="card">
                                <h3>Agregar Producto</h3>
                                <div class="add-product-row">
                                    <div class="form-group" style="flex:2;">
                                        <label>Nombre del Producto</label>
                                        <input type="text" id="ventaProductSearch" class="form-input" placeholder="Busca y escribe el nombre del producto...">
                                        <div class="search-results" id="ventaSearchResults"></div>
                                    </div>
                                    <div class="form-group" style="flex:1;">
                                        <label>Precio Unitario</label>
                                        <input type="text" id="ventaPrecio" class="form-input" readonly>
                                    </div>
                                    <div class="form-group" style="flex:1;">
                                        <label>Stock</label>
                                        <input type="text" id="ventaStock" class="form-input" readonly>
                                    </div>
                                    <div class="form-group" style="flex:0.5;">
                                        <label>Cant.</label>
                                        <input type="number" id="ventaCantidad" class="form-input" value="1" min="1">
                                    </div>
                                </div>
                                <button class="btn-primary btn-full" id="ventaAddProduct">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                    Agregar Producto
                                </button>
                            </div>

                            <div class="card">
                                <h3>Productos Agregados</h3>
                                <table class="data-table" id="ventaProductsTable">
                                    <thead>
                                        <tr>
                                            <th>Producto</th>
                                            <th>Precio Unit.</th>
                                            <th>Cantidad</th>
                                            <th>Total</th>
                                            <th>Acci√≥n</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ventaProductsBody">
                                    </tbody>
                                </table>
                                <div class="empty-state-inline" id="ventaProductsEmpty">
                                    <p>No hay productos agregados</p>
                                </div>
                            </div>
                        </div>

                        <div class="venta-sidebar">
                            <div class="card resumen-card">
                                <h3>Resumen Total</h3>
                                <div class="resumen-row">
                                    <span>Productos:</span>
                                    <span id="ventaTotalProductos">0</span>
                                </div>
                                <div class="resumen-row">
                                    <span>Unidades:</span>
                                    <span id="ventaTotalUnidades">0</span>
                                </div>
                                <div class="resumen-total">
                                    <span>Total:</span>
                                    <span class="resumen-total-value" id="ventaTotal">$0</span>
                                </div>
                                <button class="btn-success btn-full" id="ventaGuardar">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="9" cy="21" r="1"></circle>
                                        <circle cx="20" cy="21" r="1"></circle>
                                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                    </svg>
                                    Guardar Compra
                                </button>
                                <p class="resumen-hint" id="ventaHint" style="display:none;"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Historial Ventas -->
                <div class="tab-content" id="tabHistorialVentas">
                    <div class="card" id="historialVentasContent">
                        <div class="empty-state">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: #9ca3af;">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                            </svg>
                            <p><strong>No hay ventas guardadas</strong></p>
                            <p>Las ventas que guardes aparecer√°n aqu√≠</p>
                        </div>
                    </div>
                </div>

            </div>
        </main>

        <!-- ========== COMPRA VIEW ========== -->
        <main class="view" id="viewCompra" style="display: none;">
            <div class="view-container">
                <div class="view-header">
                    <h2>Compras</h2>
                    <p>Administra tus compras a proveedores</p>
                </div>

                <div class="tabs">
                    <button class="tab active" data-tab="registrarCompra">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="9" y1="3" x2="9" y2="21"></line>
                        </svg>
                        Registrar Compra
                    </button>
                    <button class="tab" data-tab="historialCompras">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        Historial (<span id="comprasCount">0</span>)
                    </button>
                </div>

                <!-- Tab: Registrar Compra -->
                <div class="tab-content active" id="tabRegistrarCompra">
                    <div class="card">
                        <div class="card-header-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #7c3aed;">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                            </svg>
                            <h3>REGISTRAR NUEVA COMPRA</h3>
                        </div>

                        <div class="compra-form-grid">
                            <div class="form-group" style="flex:2;">
                                <label>Nombre del Proveedor *</label>
                                <input type="text" id="compraProveedor" class="form-input" placeholder="Escribe el nombre del proveedor">
                            </div>
                            <div class="form-group" style="flex:1;">
                                <label>Fecha de compra</label>
                                <input type="date" id="compraFecha" class="form-input">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>N√∫mero de factura (opcional)</label>
                            <input type="text" id="compraFactura" class="form-input" placeholder="Ej: FAC-12345">
                        </div>

                        <h4 class="section-title">PRODUCTOS A COMPRAR</h4>

                        <div class="compra-product-row">
                            <div class="form-group" style="flex:2;">
                                <label>Nombre del Producto üîç</label>
                                <input type="text" id="compraProductName" class="form-input" placeholder="Escribe o busca un producto">
                                <div class="search-results" id="compraSearchResults"></div>
                            </div>
                            <div class="form-group" style="flex:1;">
                                <label>Categor√≠a</label>
                                <input type="text" id="compraProductCat" class="form-input" placeholder="Ej: Bebidas">
                            </div>
                            <div class="form-group" style="flex:0.7;">
                                <label>Cantidad</label>
                                <input type="number" id="compraProductCant" class="form-input" value="0" min="0">
                            </div>
                            <div class="form-group" style="flex:0.7;">
                                <label>Precio Unit.</label>
                                <input type="number" id="compraProductPrecio" class="form-input" value="0" min="0" step="0.01">
                            </div>
                            <button class="btn-primary btn-add-compra" id="compraAddProduct">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                Agregar
                            </button>
                        </div>

                        <div class="compra-products-list" id="compraProductsList">
                            <div class="empty-state-inline" id="compraProductsEmpty">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color: #9ca3af;">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="9" y1="3" x2="9" y2="21"></line>
                                </svg>
                                <p>No hay productos agregados</p>
                            </div>
                            <table class="data-table" id="compraProductsTable" style="display:none;">
                                <thead>
                                    <tr>
                                        <th>Producto</th>
                                        <th>Categor√≠a</th>
                                        <th>Cantidad</th>
                                        <th>Precio Unit.</th>
                                        <th>Subtotal</th>
                                        <th>Acci√≥n</th>
                                    </tr>
                                </thead>
                                <tbody id="compraProductsBody">
                                </tbody>
                            </table>
                        </div>

                        <div class="compra-total-row">
                            <span>TOTAL:</span>
                            <span class="compra-total-value" id="compraTotal">$0</span>
                        </div>

                        <div class="form-group">
                            <label>Notas (opcional)</label>
                            <textarea id="compraNotas" class="form-input form-textarea" placeholder="Informaci√≥n adicional sobre la compra..."></textarea>
                        </div>

                        <div class="compra-actions">
                            <button class="btn-secondary" id="compraCancelar">Cancelar</button>
                            <button class="btn-success" id="compraRegistrar">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>
                                Registrar Compra
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Tab: Historial Compras -->
                <div class="tab-content" id="tabHistorialCompras">
                    <div class="card" id="historialComprasContent">
                        <div class="empty-state">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: #9ca3af;">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                            </svg>
                            <p><strong>No hay compras registradas</strong></p>
                            <p>Las compras que registres aparecer√°n aqu√≠</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ========== GASTOS VIEW ========== -->
        <main class="view" id="viewGastos" style="display: none;">
            <div class="view-container">
                <div class="view-header-row">
                    <div>
                        <h2>Gastos</h2>
                        <p>Controla tus gastos</p>
                    </div>
                    <button class="btn-primary" id="addGastoBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        Agregar Gasto
                    </button>
                </div>

                <div class="gastos-summary">
                    <div class="summary-item">
                        <span class="summary-label">Total Gastos del Mes</span>
                        <span class="summary-value" id="gastosTotalMes">$0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Cantidad de Gastos</span>
                        <span class="summary-value" id="gastosCantidad">0</span>
                    </div>
                </div>

                <div class="card" id="gastosContent">
                    <div class="empty-state" id="gastosEmpty">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: #9ca3af;">
                            <line x1="12" y1="1" x2="12" y2="23"></line>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                        </svg>
                        <p><strong>No hay gastos registrados</strong></p>
                        <p>Los gastos que registres aparecer√°n aqu√≠</p>
                    </div>
                    <table class="data-table" id="gastosTable" style="display:none;">
                        <thead>
                            <tr>
                                <th>Descripci√≥n</th>
                                <th>Categor√≠a</th>
                                <th>Monto</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="gastosTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- ========== MODAL: Add/Edit Product ========== -->
    <div class="modal-overlay" id="productModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modalTitle">Agregar Producto</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <form id="productForm">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName">Nombre del producto *</label>
                            <input type="text" id="productName" class="form-input" required placeholder="Ej: Pan Integral">
                        </div>
                        <div class="form-group">
                            <label for="productEmoji">Emoji</label>
                            <input type="text" id="productEmoji" class="form-input" placeholder="Ej: üçû" maxlength="4">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="productImage">Foto del producto</label>
                        <input type="file" id="productImage" class="form-input" accept="image/*">
                        <input type="hidden" id="productImageData">
                        <div class="image-preview" id="productImagePreview">
                            <span>Sin imagen</span>
                        </div>
                        <button type="button" class="btn-secondary btn-sm" id="clearImageBtn">Quitar foto</button>
                    </div>
                    <div class="form-group">
                        <label for="productCategory">Categor√≠a *</label>
                        <div class="category-input">
                            <select id="productCategorySelect" class="form-input">
                                <option value="">Seleccionar existente...</option>
                            </select>
                            <input type="text" id="productCategoryNew" class="form-input" placeholder="O escribe una nueva">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productPrecioCompra">Precio de Compra *</label>
                            <input type="number" id="productPrecioCompra" class="form-input" required min="0" placeholder="10000">
                        </div>
                        <div class="form-group">
                            <label for="productPrecioVenta">Precio de Venta *</label>
                            <input type="number" id="productPrecioVenta" class="form-input" required min="0" placeholder="15000">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productCantidad">Cantidad</label>
                            <input type="number" id="productCantidad" class="form-input" min="0" value="0" placeholder="50">
                        </div>
                        <div class="form-group">
                            <label for="productVendido">Vendido</label>
                            <input type="number" id="productVendido" class="form-input" min="0" value="0" placeholder="0">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" id="cancelBtn">Cancelar</button>
                    <button type="submit" class="btn-primary" id="saveBtn">Guardar</button>
                </div>
                <input type="hidden" id="productId">
            </form>
        </div>
    </div>

    <!-- ========== MODAL: Delete Confirm ========== -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal modal-small">
            <div class="modal-header">
                <h2>Confirmar eliminaci√≥n</h2>
                <button class="close-modal" id="closeDeleteModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>¬øEst√°s seguro de que deseas eliminar <strong id="deleteProductName"></strong>?</p>
                <p class="text-muted">Esta acci√≥n no se puede deshacer.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" id="cancelDeleteBtn">Cancelar</button>
                <button type="button" class="btn-danger" id="confirmDeleteBtn">Eliminar</button>
            </div>
            <input type="hidden" id="deleteProductId">
        </div>
    </div>

    <!-- ========== MODAL: Gasto ========== -->
    <div class="modal-overlay" id="gastoModal">
        <div class="modal">
            <div class="modal-header">
                <h2 id="gastoModalTitle">Agregar Gasto</h2>
                <button class="close-modal" id="closeGastoModal">&times;</button>
            </div>
            <form id="gastoForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="gastoDescripcion">Descripci√≥n *</label>
                        <input type="text" id="gastoDescripcion" class="form-input" required placeholder="Ej: Pago de electricidad">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="gastoCategoria">Categor√≠a</label>
                            <select id="gastoCategoria" class="form-input">
                                <option value="Servicios">Servicios</option>
                                <option value="Transporte">Transporte</option>
                                <option value="Alquiler">Alquiler</option>
                                <option value="Mantenimiento">Mantenimiento</option>
                                <option value="Otros">Otros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="gastoMonto">Monto *</label>
                            <input type="number" id="gastoMonto" class="form-input" required min="0" step="0.01" placeholder="50000">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="gastoFecha">Fecha</label>
                        <input type="date" id="gastoFecha" class="form-input">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" id="cancelGastoBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer"></div>

    <script src="js/products.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
